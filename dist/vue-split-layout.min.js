!function(t,e){"object"==typeof exports&&typeof module<"u"?e(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],e):e((t=typeof globalThis<"u"?globalThis:t||self).VueSplitLayout={},t.Vue)}(this,(function(t,e){"use strict";var r=Object.defineProperty;const n=(t,e)=>{const r=t.__vccOpts||t;for(const[t,n]of e)r[t]=n;return r},o={name:"Split",props:{resizeable:{type:Boolean,default:!1},dir:{type:String,default:"horizontal"},split:{type:String,default:"50%"}},data(){return{state:{resizing:!1,split:this.split}}},computed:{splitClass(){return["split",this.dir,this.state.resizing?"resizing":"",this.resizeable?"resizeable":""]}},methods:{startResize(t){if(!this.resizeable||0!==t.button)return;t.preventDefault(),this.state.resizing=!0;const e=t=>{const e="horizontal"===this.dir,r=(e?this.$el.children[1].clientWidth:this.$el.children[1].clientHeight)/2,n=this.$el.getBoundingClientRect(),o=e?(t.clientX-n.left-r)/this.$el.clientWidth*100:(t.clientY-n.top-r)/this.$el.clientHeight*100;this.state.split=o+"%"},r=()=>{this.state.resizing=!1,document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",e),document.addEventListener("mouseup",r)}}},i={class:"content"};const a=n(o,[["render",function(t,r,n,o,a,s){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(s.splitClass)},[e.createElementVNode("div",{class:"content",style:e.normalizeStyle({"flex-basis":a.state.split})},[e.renderSlot(t.$slots,"first",{},void 0,!0)],4),e.createElementVNode("div",{class:"splitter",onMousedown:r[0]||(r[0]=(...t)=>s.startResize&&s.startResize(...t))},null,32),e.createElementVNode("div",i,[e.renderSlot(t.$slots,"second",{},void 0,!0)])],2)}],["__scopeId","data-v-af012366"]]),s=class t{constructor(t){this.tree=t||[]}push(e){return void 0===e.id&&(e.id=t.gid++),this.tree.push(e),e}findById(t){return this.tree.find((e=>e.id===t))}childrenOf(t){return this.tree.filter((e=>e.parent===t))}attachChild(e,r,n,o){void 0===n.id&&(n.id=t.gid++),o=o||33;const i=this.tree.indexOf(e),a={id:t.gid++,type:"split",parent:e.parent,dir:r%2==0?"vertical":"horizontal"};return e.parent=a,n.parent=a,this.tree[i]=a,0===r||3===r?(a.split=o+"%",this.tree.push(n,e)):(a.split=100-o+"%",this.tree.push(e,n)),n}};((t,e,n)=>{((t,e,n)=>{e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n)})(s,"gid",0);let c=s;c.from=function(t){return new c(t)};var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var l=function(){this.__data__=[],this.size=0};var f=function(t,e){return t===e||t!=t&&e!=e},p=f;var d=function(t,e){for(var r=t.length;r--;)if(p(t[r][0],e))return r;return-1},v=d,h=Array.prototype.splice;var y=function(t){var e=this.__data__,r=v(e,t);return!(r<0)&&(r==e.length-1?e.pop():h.call(e,r,1),--this.size,!0)},b=d;var g=function(t){var e=this.__data__,r=b(e,t);return r<0?void 0:e[r][1]},j=d;var _=function(t){return j(this.__data__,t)>-1},m=d;var w=function(t,e){var r=this.__data__,n=m(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},O=l,A=y,S=g,x=_,z=w;function E(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}E.prototype.clear=O,E.prototype.delete=A,E.prototype.get=S,E.prototype.has=x,E.prototype.set=z;var $=E,B=$;var P=function(){this.__data__=new B,this.size=0};var I=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var V=function(t){return this.__data__.get(t)};var k=function(t){return this.__data__.has(t)},C="object"==typeof u&&u&&u.Object===Object&&u,N=C,D="object"==typeof self&&self&&self.Object===Object&&self,F=N||D||Function("return this")(),T=F.Symbol,U=T,L=Object.prototype,R=L.hasOwnProperty,M=L.toString,W=U?U.toStringTag:void 0;var q=function(t){var e=R.call(t,W),r=t[W];try{t[W]=void 0;var n=!0}catch{}var o=M.call(t);return n&&(e?t[W]=r:delete t[W]),o},X=Object.prototype.toString;var Y=function(t){return X.call(t)},G=q,H=Y,J=T?T.toStringTag:void 0;var K=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":J&&J in Object(t)?G(t):H(t)};var Q=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Z=K,tt=Q;var et,rt=function(t){if(!tt(t))return!1;var e=Z(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},nt=F["__core-js_shared__"],ot=(et=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"";var it=function(t){return!!ot&&ot in t},at=Function.prototype.toString;var st=function(t){if(null!=t){try{return at.call(t)}catch{}try{return t+""}catch{}}return""},ct=rt,ut=it,lt=Q,ft=st,pt=/^\[object .+?Constructor\]$/,dt=Function.prototype,vt=Object.prototype,ht=dt.toString,yt=vt.hasOwnProperty,bt=RegExp("^"+ht.call(yt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var gt=function(t){return!(!lt(t)||ut(t))&&(ct(t)?bt:pt).test(ft(t))};var jt=function(t,e){return null==t?void 0:t[e]},_t=gt,mt=jt;var wt=function(t,e){var r=mt(t,e);return _t(r)?r:void 0},Ot=wt(F,"Map"),At=wt(Object,"create"),St=At;var xt=function(){this.__data__=St?St(null):{},this.size=0};var zt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Et=At,$t=Object.prototype.hasOwnProperty;var Bt=function(t){var e=this.__data__;if(Et){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return $t.call(e,t)?e[t]:void 0},Pt=At,It=Object.prototype.hasOwnProperty;var Vt=function(t){var e=this.__data__;return Pt?void 0!==e[t]:It.call(e,t)},kt=At;var Ct=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kt&&void 0===e?"__lodash_hash_undefined__":e,this},Nt=xt,Dt=zt,Ft=Bt,Tt=Vt,Ut=Ct;function Lt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Lt.prototype.clear=Nt,Lt.prototype.delete=Dt,Lt.prototype.get=Ft,Lt.prototype.has=Tt,Lt.prototype.set=Ut;var Rt=Lt,Mt=$,Wt=Ot;var qt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},Xt=qt;var Yt=function(t,e){var r=t.__data__;return Xt(e)?r["string"==typeof e?"string":"hash"]:r.map},Gt=Yt;var Ht=function(t){var e=Gt(this,t).delete(t);return this.size-=e?1:0,e},Jt=Yt;var Kt=function(t){return Jt(this,t).get(t)},Qt=Yt;var Zt=function(t){return Qt(this,t).has(t)},te=Yt;var ee=function(t,e){var r=te(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},re=function(){this.size=0,this.__data__={hash:new Rt,map:new(Wt||Mt),string:new Rt}},ne=Ht,oe=Kt,ie=Zt,ae=ee;function se(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}se.prototype.clear=re,se.prototype.delete=ne,se.prototype.get=oe,se.prototype.has=ie,se.prototype.set=ae;var ce=$,ue=Ot,le=se;var fe=function(t,e){var r=this.__data__;if(r instanceof ce){var n=r.__data__;if(!ue||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new le(n)}return r.set(t,e),this.size=r.size,this},pe=$,de=P,ve=I,he=V,ye=k,be=fe;function ge(t){var e=this.__data__=new pe(t);this.size=e.size}ge.prototype.clear=de,ge.prototype.delete=ve,ge.prototype.get=he,ge.prototype.has=ye,ge.prototype.set=be;var je=ge;var _e=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},me=wt,we=function(){try{var t=me(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Oe=we;var Ae=function(t,e,r){"__proto__"==e&&Oe?Oe(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Se=Ae,xe=f,ze=Object.prototype.hasOwnProperty;var Ee=function(t,e,r){var n=t[e];(!ze.call(t,e)||!xe(n,r)||void 0===r&&!(e in t))&&Se(t,e,r)},$e=Ee,Be=Ae;var Pe=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=n?n(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),o?Be(r,s,c):$e(r,s,c)}return r};var Ie=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Ve=function(t){return null!=t&&"object"==typeof t},ke=K,Ce=Ve;var Ne=function(t){return Ce(t)&&"[object Arguments]"==ke(t)},De=Ne,Fe=Ve,Te=Object.prototype,Ue=Te.hasOwnProperty,Le=Te.propertyIsEnumerable,Re=De(function(){return arguments}())?De:function(t){return Fe(t)&&Ue.call(t,"callee")&&!Le.call(t,"callee")},Me=Re,We=Array.isArray,qe={exports:{}};var Xe=function(){return!1};!function(t,e){var r=F,n=Xe,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=(a?a.isBuffer:void 0)||n;t.exports=s}(qe,qe.exports);var Ye=qe.exports,Ge=/^(?:0|[1-9]\d*)$/;var He=function(t,e){var r=typeof t;return!!(e=e??9007199254740991)&&("number"==r||"symbol"!=r&&Ge.test(t))&&t>-1&&t%1==0&&t<e};var Je=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ke=K,Qe=Je,Ze=Ve,tr={};tr["[object Float32Array]"]=tr["[object Float64Array]"]=tr["[object Int8Array]"]=tr["[object Int16Array]"]=tr["[object Int32Array]"]=tr["[object Uint8Array]"]=tr["[object Uint8ClampedArray]"]=tr["[object Uint16Array]"]=tr["[object Uint32Array]"]=!0,tr["[object Arguments]"]=tr["[object Array]"]=tr["[object ArrayBuffer]"]=tr["[object Boolean]"]=tr["[object DataView]"]=tr["[object Date]"]=tr["[object Error]"]=tr["[object Function]"]=tr["[object Map]"]=tr["[object Number]"]=tr["[object Object]"]=tr["[object RegExp]"]=tr["[object Set]"]=tr["[object String]"]=tr["[object WeakMap]"]=!1;var er=function(t){return Ze(t)&&Qe(t.length)&&!!tr[Ke(t)]};var rr=function(t){return function(e){return t(e)}},nr={exports:{}};!function(t,e){var r=C,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch{}}();t.exports=a}(nr,nr.exports);var or=nr.exports,ir=er,ar=rr,sr=or&&or.isTypedArray,cr=sr?ar(sr):ir,ur=Ie,lr=Me,fr=We,pr=Ye,dr=He,vr=cr,hr=Object.prototype.hasOwnProperty;var yr=function(t,e){var r=fr(t),n=!r&&lr(t),o=!r&&!n&&pr(t),i=!r&&!n&&!o&&vr(t),a=r||n||o||i,s=a?ur(t.length,String):[],c=s.length;for(var u in t)(e||hr.call(t,u))&&(!a||!("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||dr(u,c)))&&s.push(u);return s},br=Object.prototype;var gr=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||br)};var jr=function(t,e){return function(r){return t(e(r))}},_r=jr(Object.keys,Object),mr=gr,wr=_r,Or=Object.prototype.hasOwnProperty;var Ar=function(t){if(!mr(t))return wr(t);var e=[];for(var r in Object(t))Or.call(t,r)&&"constructor"!=r&&e.push(r);return e},Sr=rt,xr=Je;var zr=function(t){return null!=t&&xr(t.length)&&!Sr(t)},Er=yr,$r=Ar,Br=zr;var Pr=function(t){return Br(t)?Er(t):$r(t)},Ir=Pe,Vr=Pr;var kr=function(t,e){return t&&Ir(e,Vr(e),t)};var Cr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Nr=Q,Dr=gr,Fr=Cr,Tr=Object.prototype.hasOwnProperty;var Ur=function(t){if(!Nr(t))return Fr(t);var e=Dr(t),r=[];for(var n in t)"constructor"==n&&(e||!Tr.call(t,n))||r.push(n);return r},Lr=yr,Rr=Ur,Mr=zr;var Wr=function(t){return Mr(t)?Lr(t,!0):Rr(t)},qr=Pe,Xr=Wr;var Yr=function(t,e){return t&&qr(e,Xr(e),t)},Gr={exports:{}};!function(t,e){var r=F,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=a?a(r):new t.constructor(r);return t.copy(n),n}}(Gr,Gr.exports);var Hr=Gr.exports;var Jr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var Kr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var Qr=function(){return[]},Zr=Kr,tn=Qr,en=Object.prototype.propertyIsEnumerable,rn=Object.getOwnPropertySymbols,nn=rn?function(t){return null==t?[]:(t=Object(t),Zr(rn(t),(function(e){return en.call(t,e)})))}:tn,on=nn,an=Pe,sn=on;var cn=function(t,e){return an(t,sn(t),e)};var un=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},ln=jr(Object.getPrototypeOf,Object),fn=un,pn=ln,dn=on,vn=Qr,hn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)fn(e,dn(t)),t=pn(t);return e}:vn,yn=Pe,bn=hn;var gn=function(t,e){return yn(t,bn(t),e)},jn=un,_n=We;var mn=function(t,e,r){var n=e(t);return _n(t)?n:jn(n,r(t))},wn=mn,On=on,An=Pr;var Sn=function(t){return wn(t,An,On)},xn=mn,zn=hn,En=Wr;var $n=function(t){return xn(t,En,zn)},Bn=wt(F,"DataView"),Pn=Ot,In=wt(F,"Promise"),Vn=wt(F,"Set"),kn=wt(F,"WeakMap"),Cn=K,Nn=st,Dn="[object Map]",Fn="[object Promise]",Tn="[object Set]",Un="[object WeakMap]",Ln="[object DataView]",Rn=Nn(Bn),Mn=Nn(Pn),Wn=Nn(In),qn=Nn(Vn),Xn=Nn(kn),Yn=Cn;(Bn&&Yn(new Bn(new ArrayBuffer(1)))!=Ln||Pn&&Yn(new Pn)!=Dn||In&&Yn(In.resolve())!=Fn||Vn&&Yn(new Vn)!=Tn||kn&&Yn(new kn)!=Un)&&(Yn=function(t){var e=Cn(t),r="[object Object]"==e?t.constructor:void 0,n=r?Nn(r):"";if(n)switch(n){case Rn:return Ln;case Mn:return Dn;case Wn:return Fn;case qn:return Tn;case Xn:return Un}return e});var Gn=Yn,Hn=Object.prototype.hasOwnProperty;var Jn=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Hn.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Kn=F.Uint8Array;var Qn=function(t){var e=new t.constructor(t.byteLength);return new Kn(e).set(new Kn(t)),e},Zn=Qn;var to=function(t,e){var r=e?Zn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},eo=/\w*$/;var ro=function(t){var e=new t.constructor(t.source,eo.exec(t));return e.lastIndex=t.lastIndex,e},no=T?T.prototype:void 0,oo=no?no.valueOf:void 0;var io=function(t){return oo?Object(oo.call(t)):{}},ao=Qn;var so=function(t,e){var r=e?ao(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)},co=Qn,uo=to,lo=ro,fo=io,po=so;var vo=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return co(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return uo(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return po(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return lo(t);case"[object Symbol]":return fo(t)}},ho=Q,yo=Object.create,bo=function(){function t(){}return function(e){if(!ho(e))return{};if(yo)return yo(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),go=bo,jo=ln,_o=gr;var mo=function(t){return"function"!=typeof t.constructor||_o(t)?{}:go(jo(t))},wo=Gn,Oo=Ve;var Ao=function(t){return Oo(t)&&"[object Map]"==wo(t)},So=Ao,xo=rr,zo=or&&or.isMap,Eo=zo?xo(zo):So,$o=Gn,Bo=Ve;var Po=function(t){return Bo(t)&&"[object Set]"==$o(t)},Io=Po,Vo=rr,ko=or&&or.isSet,Co=ko?Vo(ko):Io,No=je,Do=_e,Fo=Ee,To=kr,Uo=Yr,Lo=Hr,Ro=Jr,Mo=cn,Wo=gn,qo=Sn,Xo=$n,Yo=Gn,Go=Jn,Ho=vo,Jo=mo,Ko=We,Qo=Ye,Zo=Eo,ti=Q,ei=Co,ri=Pr,ni=Wr,oi="[object Arguments]",ii="[object Function]",ai="[object Object]",si={};si[oi]=si["[object Array]"]=si["[object ArrayBuffer]"]=si["[object DataView]"]=si["[object Boolean]"]=si["[object Date]"]=si["[object Float32Array]"]=si["[object Float64Array]"]=si["[object Int8Array]"]=si["[object Int16Array]"]=si["[object Int32Array]"]=si["[object Map]"]=si["[object Number]"]=si[ai]=si["[object RegExp]"]=si["[object Set]"]=si["[object String]"]=si["[object Symbol]"]=si["[object Uint8Array]"]=si["[object Uint8ClampedArray]"]=si["[object Uint16Array]"]=si["[object Uint32Array]"]=!0,si["[object Error]"]=si[ii]=si["[object WeakMap]"]=!1;var ci=function t(e,r,n,o,i,a){var s,c=1&r,u=2&r,l=4&r;if(n&&(s=i?n(e,o,i,a):n(e)),void 0!==s)return s;if(!ti(e))return e;var f=Ko(e);if(f){if(s=Go(e),!c)return Ro(e,s)}else{var p=Yo(e),d=p==ii||"[object GeneratorFunction]"==p;if(Qo(e))return Lo(e,c);if(p==ai||p==oi||d&&!i){if(s=u||d?{}:Jo(e),!c)return u?Wo(e,Uo(s,e)):Mo(e,To(s,e))}else{if(!si[p])return i?e:{};s=Ho(e,p,c)}}a||(a=new No);var v=a.get(e);if(v)return v;a.set(e,s),ei(e)?e.forEach((function(o){s.add(t(o,r,n,o,e,a))})):Zo(e)&&e.forEach((function(o,i){s.set(i,t(o,r,n,i,e,a))}));var h=f?void 0:(l?u?Xo:qo:u?ni:ri)(e);return Do(h||e,(function(o,i){h&&(o=e[i=o]),Fo(s,i,t(o,r,n,i,e,a))})),s},ui=ci;var li=function(t){return ui(t,5)};const fi=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(li),pi={name:"Layout",props:{edit:{type:Boolean,default:!0},resize:{type:Boolean,default:!0},splits:{type:[String,Number,Object],default:()=>({})}},data(){return{nodes:this.calcSplits(),drag:null,savedNodes:null}},watch:{splits(){this.nodes=this.calcSplits()}},beforeUpdate(){if(!this.$refs.container)return;const t=this.$refs.container.querySelectorAll("[target-view]");Array.from(t).forEach((t=>{const e=this.$refs.container.querySelector(`[src-view=${t.getAttribute("target-view")}]`);e&&e.children[0]&&e.appendChild(t.children[0])}))},methods:{calcSplits(){const t=[],e=c.from(t),r=t=>{if(t instanceof Object){const n=e.push({type:"split",dir:t.dir,split:t.split});return r(t.first).parent=n,r(t.second).parent=n,n}return e.push({type:"view",viewId:t})};return r(this.splits),t},childrenOf(t){return c.from(this.nodes).childrenOf(t)},renderNode:t=>"split"===t.type?a:"div",onSplitResize(t,e,r){const n=e.props["node-id"];c.from(this.nodes).findById(n).split=r},previewPane(t,e,r){if(-1===t)return void(this.$refs.preview.style.opacity=0);if(!e)return-1;const n=(r=r||33)/100,o=e.getBoundingClientRect(),i={left:o.left,top:o.top,width:o.width,height:o.height};1===t?i.left+=i.width-i.width*n:2===t&&(i.top+=i.height-i.height*n),t%2==0?i.height*=n:i.width*=n,this.$refs.preview.style.opacity=1;for(const t in i)this.$refs.preview.style[t]=`${i[t]}px`},onViewDragStart(t){if(0!==t.button)return;const e=t.target.hasAttribute("node-id"),r=t.target.hasAttribute("pane-drag");if(!e&&!r)return;let n=t.target;if(!e){let t=n;for(;t&&t.matches&&!t.hasAttribute("node-id");)t=t.parentNode;if(!t||!t.matches)return;n=t}const o=parseInt(n.getAttribute("node-id"),10),i=this.nodes.find((t=>t.id===o));if(!i)return;t.preventDefault();const a=this.$refs.container.getBoundingClientRect(),s=t.target.getBoundingClientRect();this.drag={node:i,offset:{x:t.clientX-s.left,y:t.clientY-s.top}},this.savedNodes=fi(this.nodes),c.from(this.nodes).removeChild(i),this.$refs.drag.style.top=s.y-a.top+"px",this.$refs.drag.style.left=s.x-a.left+"px",this.$refs.drag.style.width=`${s.width}px`,this.$refs.drag.style.height=`${s.height}px`,document.addEventListener("mousemove",this.onViewDrag),document.addEventListener("mouseup",this.onViewDrop)},onViewDrag(t){if(0!==t.button)return;const e=this.$refs.container.getBoundingClientRect(),r=t.clientX-e.left,n=t.clientY-e.top;this.$refs.drag.style.left=r-this.drag.offset.x+"px",this.$refs.drag.style.top=n-this.drag.offset.y+"px",this.$refs.drag.style.pointerEvents="none";const o=document.elementFromPoint(t.clientX,t.clientY);this.$refs.drag.style.pointerEvents=null;let i=o;for(;i&&!i.matches(".view");)i=i.parentNode;if(!i||!i.matches)return void this.previewPane(-1);const a=this.checkAttach(i,t);-1!==a&&(this.drag.over={viewDom:i,attach:a}),this.previewPane(a,i)},onViewDrop(t){if(0!==t.button)return;if(document.removeEventListener("mousemove",this.onViewDrag),document.removeEventListener("mouseup",this.onViewDrop),this.previewPane(-1),!this.drag.over)return this.drag=null,void(this.nodes=this.savedNodes);const{viewDom:e,attach:r}=this.drag.over,n=parseInt(e.getAttribute("node-id"),10),o=c.from(this.nodes),i=o.findById(n);o.attachChild(i,r,this.drag.node),this.drag=null},checkAttach(t,e,r=33){const n=r/100,o=t.getBoundingClientRect(),i=o.width*n,a=o.height*n,s=e.clientX-o.left,c=e.clientY-o.top,u=[c-a,o.width-i-s,o.height-a-c,s-i];let l=0,f=-1;return u.forEach(((t,e)=>{t<l&&(l=t,f=e)})),f}}},di={class:"preview",ref:"preview"},vi=["target-view"],hi={style:{display:"none"}};const yi=n(pi,[["render",function(t,r,n,o,i,a){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(t.layoutClass),ref:"container"},[e.createElementVNode("div",{class:e.normalizeClass(["views",{dragging:!!i.drag}]),ref:"views"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.childrenOf(i.nodes[0]),(t=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.renderNode(t)),{key:t.id})))),128))],2),e.createElementVNode("div",di,null,512),e.createElementVNode("div",{class:e.normalizeClass({drag:!0,dragging:!!i.drag}),ref:"drag"},[i.drag?(e.openBlock(),e.createElementBlock("div",{key:0,class:"view","target-view":"view-"+i.drag.node.viewId},null,8,vi)):e.createCommentVNode("",!0)],2),e.createElementVNode("div",hi,[e.renderSlot(t.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-92c8c1de"]]),bi={class:"pane"},gi={class:"header"},ji={class:"content"};const _i=n({name:"Pane",props:{title:{type:String,default:""}}},[["render",function(t,r,n,o,i,a){return e.openBlock(),e.createElementBlock("div",bi,[e.createElementVNode("div",gi,e.toDisplayString(n.title),1),e.createElementVNode("div",ji,[e.renderSlot(t.$slots,"default",{},void 0,!0)])])}],["__scopeId","data-v-2502aea4"]]);t.Layout=yi,t.Pane=_i,t.Split=a,t.Tree=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=vue-split-layout.min.js.map
