"use strict";var ut=Object.defineProperty;var ft=(e,t,r)=>t in e?ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var de=(e,t,r)=>ft(e,typeof t!="symbol"?t+"":t,r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("vue"),Ge=(e,t)=>{const r=e.__vccOpts||e;for(const[a,o]of t)r[a]=o;return r},vt=l.defineComponent({name:"SplitPane",props:{resizeable:{type:Boolean,default:!1},dir:{type:String,default:"horizontal"},split:{type:String,default:"50%"}},setup(e,{emit:t}){const r=l.ref({resizing:!1,split:e.split||"50%"}),a=l.computed(()=>["split",e.dir,r.value.resizing?"resizing":"",e.resizeable?"resizeable":""]);return{state:r,splitClass:a,startResize:i=>{if(!e.resizeable||i.button!==0)return;i.stopPropagation(),i.preventDefault(),r.value.resizing=!0;const n=f=>{if(f.button!==0)return;const d=e.dir==="horizontal",_=(d?f.target.parentNode.children[1].clientWidth:f.target.parentNode.children[1].clientHeight)/2,b=f.target.parentNode.getBoundingClientRect(),m=d?(f.x-b.left-_)/f.target.parentNode.clientWidth*100:(f.y-b.top-_)/f.target.parentNode.clientHeight*100;r.value.split=m+"%",t("onSplitResize",f,r.value.split)},s=f=>{f.button===0&&(r.value.resizing=!1,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s))};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)}}}}),pt={class:"content"};function dt(e,t,r,a,o,i){return l.openBlock(),l.createElementBlock("div",{class:l.normalizeClass(e.splitClass)},[l.createElementVNode("div",{class:"content",style:l.normalizeStyle({flexBasis:e.state.split})},[l.renderSlot(e.$slots,"first",{},void 0,!0)],4),l.createElementVNode("div",{class:"splitter",onMousedown:t[0]||(t[0]=(...n)=>e.startResize&&e.startResize(...n))},null,32),l.createElementVNode("div",pt,[l.renderSlot(e.$slots,"second",{},void 0,!0)])],2)}const Re=Ge(vt,[["render",dt],["__scopeId","data-v-37a86a32"]]),C=class C{constructor(t){this.tree=t||[]}push(t){return t.id===void 0&&(t.id=C.gid++),this.tree.push(t),t}findById(t){var r=this.tree.find(a=>a.id===t);return r}childrenOf(t){return this.tree.filter(r=>r.parent===t)}removeChild(t){var r=this.tree.indexOf(t);if(r!==-1){this.tree.splice(r,1);var a=this.tree.indexOf(t.parent),[o]=this.childrenOf(t.parent),i=this.tree.indexOf(o);this.tree.splice(i,1),this.tree[a]=o,o.parent=o.parent.parent}}attachChild(t,r,a,o){a.id===void 0&&(a.id=C.gid++),o=o||33;var i=this.tree.indexOf(t),n={id:C.gid++,type:"split",parent:t.parent,dir:r%2===0?"vertical":"horizontal"};return t.parent=n,a.parent=n,this.tree[i]=n,r===0||r===3?(n.split=o+"%",this.tree.push(a,t)):(n.split=100-o+"%",this.tree.push(t,a)),a}};de(C,"gid",0);let A=C;A.from=function(e){return new A(e)};var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yt(){this.__data__=[],this.size=0}var ht=yt;function $t(e,t){return e===t||e!==e&&t!==t}var Ue=$t,bt=Ue;function _t(e,t){for(var r=e.length;r--;)if(bt(e[r][0],t))return r;return-1}var V=_t,mt=V,Tt=Array.prototype,jt=Tt.splice;function At(e){var t=this.__data__,r=mt(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():jt.call(t,r,1),--this.size,!0}var wt=At,St=V;function Ot(e){var t=this.__data__,r=St(t,e);return r<0?void 0:t[r][1]}var Ct=Ot,It=V;function xt(e){return It(this.__data__,e)>-1}var Pt=xt,Et=V;function Dt(e,t){var r=this.__data__,a=Et(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var Lt=Dt,Mt=ht,Bt=wt,Nt=Ct,Ft=Pt,zt=Lt;function I(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}I.prototype.clear=Mt;I.prototype.delete=Bt;I.prototype.get=Nt;I.prototype.has=Ft;I.prototype.set=zt;var H=I,Gt=H;function Rt(){this.__data__=new Gt,this.size=0}var Ut=Rt;function Kt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kt=Kt;function Vt(e){return this.__data__.get(e)}var Ht=Vt;function Wt(e){return this.__data__.has(e)}var qt=Wt,Yt=typeof G=="object"&&G&&G.Object===Object&&G,Ke=Yt,Xt=Ke,Jt=typeof self=="object"&&self&&self.Object===Object&&self,Zt=Xt||Jt||Function("return this")(),j=Zt,Qt=j,er=Qt.Symbol,ae=er,ge=ae,ke=Object.prototype,tr=ke.hasOwnProperty,rr=ke.toString,B=ge?ge.toStringTag:void 0;function ar(e){var t=tr.call(e,B),r=e[B];try{e[B]=void 0;var a=!0}catch{}var o=rr.call(e);return a&&(t?e[B]=r:delete e[B]),o}var nr=ar,or=Object.prototype,ir=or.toString;function sr(e){return ir.call(e)}var cr=sr,ye=ae,lr=nr,ur=cr,fr="[object Null]",vr="[object Undefined]",he=ye?ye.toStringTag:void 0;function pr(e){return e==null?e===void 0?vr:fr:he&&he in Object(e)?lr(e):ur(e)}var W=pr;function dr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var N=dr,gr=W,yr=N,hr="[object AsyncFunction]",$r="[object Function]",br="[object GeneratorFunction]",_r="[object Proxy]";function mr(e){if(!yr(e))return!1;var t=gr(e);return t==$r||t==br||t==hr||t==_r}var Ve=mr,Tr=j,jr=Tr["__core-js_shared__"],Ar=jr,J=Ar,$e=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wr(e){return!!$e&&$e in e}var Sr=wr,Or=Function.prototype,Cr=Or.toString;function Ir(e){if(e!=null){try{return Cr.call(e)}catch{}try{return e+""}catch{}}return""}var He=Ir,xr=Ve,Pr=Sr,Er=N,Dr=He,Lr=/[\\^$.*+?()[\]{}|]/g,Mr=/^\[object .+?Constructor\]$/,Br=Function.prototype,Nr=Object.prototype,Fr=Br.toString,zr=Nr.hasOwnProperty,Gr=RegExp("^"+Fr.call(zr).replace(Lr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rr(e){if(!Er(e)||Pr(e))return!1;var t=xr(e)?Gr:Mr;return t.test(Dr(e))}var Ur=Rr;function Kr(e,t){return e==null?void 0:e[t]}var kr=Kr,Vr=Ur,Hr=kr;function Wr(e,t){var r=Hr(e,t);return Vr(r)?r:void 0}var S=Wr,qr=S,Yr=j,Xr=qr(Yr,"Map"),ne=Xr,Jr=S,Zr=Jr(Object,"create"),q=Zr,be=q;function Qr(){this.__data__=be?be(null):{},this.size=0}var ea=Qr;function ta(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ra=ta,aa=q,na="__lodash_hash_undefined__",oa=Object.prototype,ia=oa.hasOwnProperty;function sa(e){var t=this.__data__;if(aa){var r=t[e];return r===na?void 0:r}return ia.call(t,e)?t[e]:void 0}var ca=sa,la=q,ua=Object.prototype,fa=ua.hasOwnProperty;function va(e){var t=this.__data__;return la?t[e]!==void 0:fa.call(t,e)}var pa=va,da=q,ga="__lodash_hash_undefined__";function ya(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=da&&t===void 0?ga:t,this}var ha=ya,$a=ea,ba=ra,_a=ca,ma=pa,Ta=ha;function x(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}x.prototype.clear=$a;x.prototype.delete=ba;x.prototype.get=_a;x.prototype.has=ma;x.prototype.set=Ta;var ja=x,_e=ja,Aa=H,wa=ne;function Sa(){this.size=0,this.__data__={hash:new _e,map:new(wa||Aa),string:new _e}}var Oa=Sa;function Ca(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ia=Ca,xa=Ia;function Pa(e,t){var r=e.__data__;return xa(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Y=Pa,Ea=Y;function Da(e){var t=Ea(this,e).delete(e);return this.size-=t?1:0,t}var La=Da,Ma=Y;function Ba(e){return Ma(this,e).get(e)}var Na=Ba,Fa=Y;function za(e){return Fa(this,e).has(e)}var Ga=za,Ra=Y;function Ua(e,t){var r=Ra(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var Ka=Ua,ka=Oa,Va=La,Ha=Na,Wa=Ga,qa=Ka;function P(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}P.prototype.clear=ka;P.prototype.delete=Va;P.prototype.get=Ha;P.prototype.has=Wa;P.prototype.set=qa;var Ya=P,Xa=H,Ja=ne,Za=Ya,Qa=200;function en(e,t){var r=this.__data__;if(r instanceof Xa){var a=r.__data__;if(!Ja||a.length<Qa-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Za(a)}return r.set(e,t),this.size=r.size,this}var tn=en,rn=H,an=Ut,nn=kt,on=Ht,sn=qt,cn=tn;function E(e){var t=this.__data__=new rn(e);this.size=t.size}E.prototype.clear=an;E.prototype.delete=nn;E.prototype.get=on;E.prototype.has=sn;E.prototype.set=cn;var ln=E;function un(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var fn=un,vn=S,pn=function(){try{var e=vn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dn=pn,me=dn;function gn(e,t,r){t=="__proto__"&&me?me(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var We=gn,yn=We,hn=Ue,$n=Object.prototype,bn=$n.hasOwnProperty;function _n(e,t,r){var a=e[t];(!(bn.call(e,t)&&hn(a,r))||r===void 0&&!(t in e))&&yn(e,t,r)}var qe=_n,mn=qe,Tn=We;function jn(e,t,r,a){var o=!r;r||(r={});for(var i=-1,n=t.length;++i<n;){var s=t[i],f=a?a(r[s],e[s],s,r,e):void 0;f===void 0&&(f=e[s]),o?Tn(r,s,f):mn(r,s,f)}return r}var X=jn;function An(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var wn=An;function Sn(e){return e!=null&&typeof e=="object"}var F=Sn,On=W,Cn=F,In="[object Arguments]";function xn(e){return Cn(e)&&On(e)==In}var Pn=xn,Te=Pn,En=F,Ye=Object.prototype,Dn=Ye.hasOwnProperty,Ln=Ye.propertyIsEnumerable,Mn=Te(function(){return arguments}())?Te:function(e){return En(e)&&Dn.call(e,"callee")&&!Ln.call(e,"callee")},Bn=Mn,Nn=Array.isArray,oe=Nn,U={exports:{}};function Fn(){return!1}var zn=Fn;U.exports;(function(e,t){var r=j,a=zn,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,n=i&&i.exports===o,s=n?r.Buffer:void 0,f=s?s.isBuffer:void 0,d=f||a;e.exports=d})(U,U.exports);var Xe=U.exports,Gn=9007199254740991,Rn=/^(?:0|[1-9]\d*)$/;function Un(e,t){var r=typeof e;return t=t??Gn,!!t&&(r=="number"||r!="symbol"&&Rn.test(e))&&e>-1&&e%1==0&&e<t}var Kn=Un,kn=9007199254740991;function Vn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kn}var Je=Vn,Hn=W,Wn=Je,qn=F,Yn="[object Arguments]",Xn="[object Array]",Jn="[object Boolean]",Zn="[object Date]",Qn="[object Error]",eo="[object Function]",to="[object Map]",ro="[object Number]",ao="[object Object]",no="[object RegExp]",oo="[object Set]",io="[object String]",so="[object WeakMap]",co="[object ArrayBuffer]",lo="[object DataView]",uo="[object Float32Array]",fo="[object Float64Array]",vo="[object Int8Array]",po="[object Int16Array]",go="[object Int32Array]",yo="[object Uint8Array]",ho="[object Uint8ClampedArray]",$o="[object Uint16Array]",bo="[object Uint32Array]",h={};h[uo]=h[fo]=h[vo]=h[po]=h[go]=h[yo]=h[ho]=h[$o]=h[bo]=!0;h[Yn]=h[Xn]=h[co]=h[Jn]=h[lo]=h[Zn]=h[Qn]=h[eo]=h[to]=h[ro]=h[ao]=h[no]=h[oo]=h[io]=h[so]=!1;function _o(e){return qn(e)&&Wn(e.length)&&!!h[Hn(e)]}var mo=_o;function To(e){return function(t){return e(t)}}var ie=To,K={exports:{}};K.exports;(function(e,t){var r=Ke,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,n=i&&r.process,s=function(){try{var f=o&&o.require&&o.require("util").types;return f||n&&n.binding&&n.binding("util")}catch{}}();e.exports=s})(K,K.exports);var se=K.exports,jo=mo,Ao=ie,je=se,Ae=je&&je.isTypedArray,wo=Ae?Ao(Ae):jo,So=wo,Oo=wn,Co=Bn,Io=oe,xo=Xe,Po=Kn,Eo=So,Do=Object.prototype,Lo=Do.hasOwnProperty;function Mo(e,t){var r=Io(e),a=!r&&Co(e),o=!r&&!a&&xo(e),i=!r&&!a&&!o&&Eo(e),n=r||a||o||i,s=n?Oo(e.length,String):[],f=s.length;for(var d in e)(t||Lo.call(e,d))&&!(n&&(d=="length"||o&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Po(d,f)))&&s.push(d);return s}var Ze=Mo,Bo=Object.prototype;function No(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Bo;return e===r}var ce=No;function Fo(e,t){return function(r){return e(t(r))}}var Qe=Fo,zo=Qe,Go=zo(Object.keys,Object),Ro=Go,Uo=ce,Ko=Ro,ko=Object.prototype,Vo=ko.hasOwnProperty;function Ho(e){if(!Uo(e))return Ko(e);var t=[];for(var r in Object(e))Vo.call(e,r)&&r!="constructor"&&t.push(r);return t}var Wo=Ho,qo=Ve,Yo=Je;function Xo(e){return e!=null&&Yo(e.length)&&!qo(e)}var et=Xo,Jo=Ze,Zo=Wo,Qo=et;function ei(e){return Qo(e)?Jo(e):Zo(e)}var le=ei,ti=X,ri=le;function ai(e,t){return e&&ti(t,ri(t),e)}var ni=ai;function oi(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var ii=oi,si=N,ci=ce,li=ii,ui=Object.prototype,fi=ui.hasOwnProperty;function vi(e){if(!si(e))return li(e);var t=ci(e),r=[];for(var a in e)a=="constructor"&&(t||!fi.call(e,a))||r.push(a);return r}var pi=vi,di=Ze,gi=pi,yi=et;function hi(e){return yi(e)?di(e,!0):gi(e)}var ue=hi,$i=X,bi=ue;function _i(e,t){return e&&$i(t,bi(t),e)}var mi=_i,k={exports:{}};k.exports;(function(e,t){var r=j,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===a,n=i?r.Buffer:void 0,s=n?n.allocUnsafe:void 0;function f(d,_){if(_)return d.slice();var b=d.length,m=s?s(b):new d.constructor(b);return d.copy(m),m}e.exports=f})(k,k.exports);var Ti=k.exports;function ji(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var Ai=ji;function wi(e,t){for(var r=-1,a=e==null?0:e.length,o=0,i=[];++r<a;){var n=e[r];t(n,r,e)&&(i[o++]=n)}return i}var Si=wi;function Oi(){return[]}var tt=Oi,Ci=Si,Ii=tt,xi=Object.prototype,Pi=xi.propertyIsEnumerable,we=Object.getOwnPropertySymbols,Ei=we?function(e){return e==null?[]:(e=Object(e),Ci(we(e),function(t){return Pi.call(e,t)}))}:Ii,fe=Ei,Di=X,Li=fe;function Mi(e,t){return Di(e,Li(e),t)}var Bi=Mi;function Ni(e,t){for(var r=-1,a=t.length,o=e.length;++r<a;)e[o+r]=t[r];return e}var rt=Ni,Fi=Qe,zi=Fi(Object.getPrototypeOf,Object),at=zi,Gi=rt,Ri=at,Ui=fe,Ki=tt,ki=Object.getOwnPropertySymbols,Vi=ki?function(e){for(var t=[];e;)Gi(t,Ui(e)),e=Ri(e);return t}:Ki,nt=Vi,Hi=X,Wi=nt;function qi(e,t){return Hi(e,Wi(e),t)}var Yi=qi,Xi=rt,Ji=oe;function Zi(e,t,r){var a=t(e);return Ji(e)?a:Xi(a,r(e))}var ot=Zi,Qi=ot,es=fe,ts=le;function rs(e){return Qi(e,ts,es)}var as=rs,ns=ot,os=nt,is=ue;function ss(e){return ns(e,is,os)}var cs=ss,ls=S,us=j,fs=ls(us,"DataView"),vs=fs,ps=S,ds=j,gs=ps(ds,"Promise"),ys=gs,hs=S,$s=j,bs=hs($s,"Set"),_s=bs,ms=S,Ts=j,js=ms(Ts,"WeakMap"),As=js,Z=vs,Q=ne,ee=ys,te=_s,re=As,it=W,D=He,Se="[object Map]",ws="[object Object]",Oe="[object Promise]",Ce="[object Set]",Ie="[object WeakMap]",xe="[object DataView]",Ss=D(Z),Os=D(Q),Cs=D(ee),Is=D(te),xs=D(re),w=it;(Z&&w(new Z(new ArrayBuffer(1)))!=xe||Q&&w(new Q)!=Se||ee&&w(ee.resolve())!=Oe||te&&w(new te)!=Ce||re&&w(new re)!=Ie)&&(w=function(e){var t=it(e),r=t==ws?e.constructor:void 0,a=r?D(r):"";if(a)switch(a){case Ss:return xe;case Os:return Se;case Cs:return Oe;case Is:return Ce;case xs:return Ie}return t});var ve=w,Ps=Object.prototype,Es=Ps.hasOwnProperty;function Ds(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Es.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Ls=Ds,Ms=j,Bs=Ms.Uint8Array,Ns=Bs,Pe=Ns;function Fs(e){var t=new e.constructor(e.byteLength);return new Pe(t).set(new Pe(e)),t}var pe=Fs,zs=pe;function Gs(e,t){var r=t?zs(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Rs=Gs,Us=/\w*$/;function Ks(e){var t=new e.constructor(e.source,Us.exec(e));return t.lastIndex=e.lastIndex,t}var ks=Ks,Ee=ae,De=Ee?Ee.prototype:void 0,Le=De?De.valueOf:void 0;function Vs(e){return Le?Object(Le.call(e)):{}}var Hs=Vs,Ws=pe;function qs(e,t){var r=t?Ws(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Ys=qs,Xs=pe,Js=Rs,Zs=ks,Qs=Hs,ec=Ys,tc="[object Boolean]",rc="[object Date]",ac="[object Map]",nc="[object Number]",oc="[object RegExp]",ic="[object Set]",sc="[object String]",cc="[object Symbol]",lc="[object ArrayBuffer]",uc="[object DataView]",fc="[object Float32Array]",vc="[object Float64Array]",pc="[object Int8Array]",dc="[object Int16Array]",gc="[object Int32Array]",yc="[object Uint8Array]",hc="[object Uint8ClampedArray]",$c="[object Uint16Array]",bc="[object Uint32Array]";function _c(e,t,r){var a=e.constructor;switch(t){case lc:return Xs(e);case tc:case rc:return new a(+e);case uc:return Js(e,r);case fc:case vc:case pc:case dc:case gc:case yc:case hc:case $c:case bc:return ec(e,r);case ac:return new a;case nc:case sc:return new a(e);case oc:return Zs(e);case ic:return new a;case cc:return Qs(e)}}var mc=_c,Tc=N,Me=Object.create,jc=function(){function e(){}return function(t){if(!Tc(t))return{};if(Me)return Me(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Ac=jc,wc=Ac,Sc=at,Oc=ce;function Cc(e){return typeof e.constructor=="function"&&!Oc(e)?wc(Sc(e)):{}}var Ic=Cc,xc=ve,Pc=F,Ec="[object Map]";function Dc(e){return Pc(e)&&xc(e)==Ec}var Lc=Dc,Mc=Lc,Bc=ie,Be=se,Ne=Be&&Be.isMap,Nc=Ne?Bc(Ne):Mc,Fc=Nc,zc=ve,Gc=F,Rc="[object Set]";function Uc(e){return Gc(e)&&zc(e)==Rc}var Kc=Uc,kc=Kc,Vc=ie,Fe=se,ze=Fe&&Fe.isSet,Hc=ze?Vc(ze):kc,Wc=Hc,qc=ln,Yc=fn,Xc=qe,Jc=ni,Zc=mi,Qc=Ti,el=Ai,tl=Bi,rl=Yi,al=as,nl=cs,ol=ve,il=Ls,sl=mc,cl=Ic,ll=oe,ul=Xe,fl=Fc,vl=N,pl=Wc,dl=le,gl=ue,yl=1,hl=2,$l=4,st="[object Arguments]",bl="[object Array]",_l="[object Boolean]",ml="[object Date]",Tl="[object Error]",ct="[object Function]",jl="[object GeneratorFunction]",Al="[object Map]",wl="[object Number]",lt="[object Object]",Sl="[object RegExp]",Ol="[object Set]",Cl="[object String]",Il="[object Symbol]",xl="[object WeakMap]",Pl="[object ArrayBuffer]",El="[object DataView]",Dl="[object Float32Array]",Ll="[object Float64Array]",Ml="[object Int8Array]",Bl="[object Int16Array]",Nl="[object Int32Array]",Fl="[object Uint8Array]",zl="[object Uint8ClampedArray]",Gl="[object Uint16Array]",Rl="[object Uint32Array]",y={};y[st]=y[bl]=y[Pl]=y[El]=y[_l]=y[ml]=y[Dl]=y[Ll]=y[Ml]=y[Bl]=y[Nl]=y[Al]=y[wl]=y[lt]=y[Sl]=y[Ol]=y[Cl]=y[Il]=y[Fl]=y[zl]=y[Gl]=y[Rl]=!0;y[Tl]=y[ct]=y[xl]=!1;function R(e,t,r,a,o,i){var n,s=t&yl,f=t&hl,d=t&$l;if(r&&(n=o?r(e,a,o,i):r(e)),n!==void 0)return n;if(!vl(e))return e;var _=ll(e);if(_){if(n=il(e),!s)return el(e,n)}else{var b=ol(e),m=b==ct||b==jl;if(ul(e))return Qc(e,s);if(b==lt||b==st||m&&!o){if(n=f||m?{}:cl(e),!s)return f?rl(e,Zc(n,e)):tl(e,Jc(n,e))}else{if(!y[b])return o?e:{};n=sl(e,b,s)}}i||(i=new qc);var z=i.get(e);if(z)return z;i.set(e,n),pl(e)?e.forEach(function(v){n.add(R(v,t,r,v,e,i))}):fl(e)&&e.forEach(function(v,g){n.set(g,R(v,t,r,g,e,i))});var L=d?f?nl:al:f?gl:dl,c=_?void 0:L(e);return Yc(c||e,function(v,g){c&&(g=v,v=e[g]),Xc(n,g,R(v,t,r,g,e,i))}),n}var Ul=R,Kl=Ul,kl=1,Vl=4;function Hl(e){return Kl(e,kl|Vl)}var Wl=Hl;const ql=gt(Wl);function Yl(e,t,r=33){const a=r/100,o=e.getBoundingClientRect(),i=o.width*a,n=o.height*a,s={x:t.clientX-o.left,y:t.clientY-o.top},f=[s.y-n,o.width-i-s.x,o.height-n-s.y,s.x-i];let d=0,_=-1;return f.forEach((b,m)=>{b<d&&(d=b,_=m)}),_}const Xl=l.defineComponent({name:"Layout",props:{edit:{type:Boolean,default:!0},resize:{type:Boolean,default:!0},splits:{type:[String,Number,Object],default:()=>({})}},setup(e,{emit:t,slots:r}){const a=l.ref(null),o=l.ref(null),i=l.ref(null),n=l.ref({nodes:d(e.splits)}),s=l.ref(null);l.watch(()=>e.splits,()=>{n.value.nodes=d(e.splits)});const f=()=>{if(!a.value)return;const c=a.value.querySelectorAll("[target-view]");Array.from(c).forEach(v=>{a.value.querySelector(`[src-view=${v.getAttribute("target-view")}]`).appendChild(v.children[0])})};function d(){const c=[],v=A.from(c),g=u=>{if(u instanceof Object){let p=v.push({type:"split",dir:u.dir,split:u.split});return g(u.first).parent=p,g(u.second).parent=p,p}return v.push({type:"view",viewId:u})};return g(e.splits),c}const _=c=>{if(c.button!==0)return;const v=c.target.hasAttribute("node-id"),g=c.target.hasAttribute("pane-drag");if(!v&&!g)return;let u=c.target;if(!v){let T=u;for(;T&&T.matches&&!T.hasAttribute("node-id");T=T.parentNode);if(!T||!T.matches)return;u=T}const p=parseInt(u.getAttribute("node-id"),10);if(p===void 0)return;const $=n.value.nodes.find(T=>T.id===p);if($===void 0)return;c.preventDefault(),c.stopPropagation();const M=a.value.getBoundingClientRect(),O=c.target.getBoundingClientRect();s.value={node:$,offset:{x:c.clientX-O.left,y:c.clientY-O.top}},n.value.savedNodes=ql(n.value.nodes),A.from(n.value.nodes).removeChild($),i.value.style.top=`${O.y-M.top}px`,i.value.style.left=`${O.x-M.left}px`,i.value.style.width=`${O.width}px`,i.value.style.height=`${O.height}px`,document.addEventListener("mousemove",b),document.addEventListener("mouseup",m)},b=c=>{if(c.button!==0)return;c.preventDefault(),c.stopPropagation(),s.value.over=null;const v=a.value.getBoundingClientRect(),g={x:c.clientX-v.left,y:c.clientY-v.top};i.value.style.left=`${g.x-s.value.offset.x}px`,i.value.style.top=`${g.y-s.value.offset.y}px`,i.value.style.pointerEvents="none";let u=document.elementFromPoint(c.clientX,c.clientY);i.value.style.pointerEvents=null;let p=u;for(;p&&p.matches&&!p.matches(".view");p=p.parentNode);if(!p||!p.matches){L(-1);return}const $=Yl(p,c);$!==-1&&(s.value.over={viewDom:p,attach:$}),L($,p)},m=c=>{if(c.button!==0)return;if(document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",m),i.value.style.right=i.value.style.bottom=i.value.style.left=i.value.style.width=i.value.style.height="0",L(-1),s.value.over==null){s.value=null,n.value.nodes=n.value.savedNodes;return}const{viewDom:v,attach:g}=s.value.over,u=parseInt(v.getAttribute("node-id"),10),p=A.from(n.value.nodes),$=p.findById(u);p.attachChild($,g,s.value.node),s.value=null},z=(c,v,g)=>{v.props["node-id"],n.value.split=g,t("onSplitResize",c,v,g)};function L(c,v,g=33){if(c===-1){o.value.style.opacity=0;return}if(!v)return-1;const u=g/100,p=v.getBoundingClientRect(),$={left:p.left,top:p.top,width:p.width,height:p.height};c===1?$.left+=$.width-$.width*u:c===2&&($.top+=$.height-$.height*u),c%2===0?$.height*=u:c%2===1&&($.width*=u),o.value.style.opacity=1,o.value.style.position="fixed";for(const M in $)o.value.style[M]=`${$[M]}px`}return l.nextTick(()=>{t("layout:begin"),f(),t("layout:complete")}),()=>{const c=u=>{switch(u.type){case"split":{const p=A.from(n.value.nodes).childrenOf(u).map($=>c($));return l.h(Re,{key:u.id,"node-id":u.id,resizeable:e.resize,dir:u.dir,split:u.split,onSplitResize:z},p)}default:return e.edit?l.h("div",{class:"view","node-id":u.id,"target-view":`view-${u.viewId}`,onMousedown:_}):l.h("div",{class:"view","node-id":u.id,"target-view":`view-${u.viewId}`})}},v=c(n.value.nodes[0]),g=["layout-container",e.edit?"edit":""];return l.h("div",{class:g.join(" "),ref:a},[l.h("div",{class:`views ${s.value?"dragging":""}`,ref:"views"},[v]),l.h("div",{class:"preview",ref:o}),l.h("div",{class:`drag ${s.value?"dragging":""}`,ref:i,style:{transformOrigin:s.value?`${s.value.offset.x}px ${s.value.offset.y}px`:""}},[s.value&&l.h("div",{class:"view","target-view":`view-${s.value.node.viewId}`})]),l.h("div",{style:{display:"none"}},r.default.filter(u=>u.tag!==void 0).map((u,p)=>l.h("div",{key:u.key||p,"src-view":`view-${u.key||p}`},[u])))])}}}),Jl=l.defineComponent({name:"Pane",props:{title:{type:String,default:""}},setup(e){const{title:t}=l.toRefs(e);return{title:t}}}),Zl={class:"pane"},Ql={class:"header"},eu={class:"content"};function tu(e,t,r,a,o,i){return l.openBlock(),l.createElementBlock("div",Zl,[l.createElementVNode("div",Ql,l.toDisplayString(e.title),1),l.createElementVNode("div",eu,[l.renderSlot(e.$slots,"default",{},void 0,!0)])])}const ru=Ge(Jl,[["render",tu],["__scopeId","data-v-20dc7a22"]]);exports.Layout=Xl;exports.Pane=ru;exports.Split=Re;exports.Tree=A;
