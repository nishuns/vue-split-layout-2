(function(d,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(d=typeof globalThis<"u"?globalThis:d||self,o(d.VueSplitLayout={},d.Vue))})(this,function(d,o){"use strict";var ef=Object.defineProperty;var tf=(d,o,y)=>o in d?ef(d,o,{enumerable:!0,configurable:!0,writable:!0,value:y}):d[o]=y;var at=(d,o,y)=>tf(d,typeof o!="symbol"?o+"":o,y);const y=(e,t)=>{const r=e.__vccOpts||e;for(const[a,n]of t)r[a]=n;return r},nt={name:"Split",props:{resizeable:{type:Boolean,default:!1},dir:{type:String,default:"horizontal"},split:{type:String,default:"50%"}},data(){return{state:{resizing:!1,split:this.split}}},computed:{splitClass(){return["split",this.dir,this.state.resizing?"resizing":"",this.resizeable?"resizeable":""]}},methods:{startResize(e){if(!this.resizeable||e.button!==0)return;e.preventDefault(),this.state.resizing=!0;const t=a=>{const n=this.dir==="horizontal",s=(n?this.$el.children[1].clientWidth:this.$el.children[1].clientHeight)/2,i=this.$el.getBoundingClientRect(),c=n?(a.clientX-i.left-s)/this.$el.clientWidth*100:(a.clientY-i.top-s)/this.$el.clientHeight*100;this.state.split=c+"%"},r=()=>{this.state.resizing=!1,document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",t),document.addEventListener("mouseup",r)}}},st={class:"content"};function it(e,t,r,a,n,s){return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(s.splitClass)},[o.createElementVNode("div",{class:"content",style:o.normalizeStyle({"flex-basis":n.state.split})},[o.renderSlot(e.$slots,"first",{},void 0,!0)],4),o.createElementVNode("div",{class:"splitter",onMousedown:t[0]||(t[0]=(...i)=>s.startResize&&s.startResize(...i))},null,32),o.createElementVNode("div",st,[o.renderSlot(e.$slots,"second",{},void 0,!0)])],2)}const oe=y(nt,[["render",it],["__scopeId","data-v-af012366"]]),I=class I{constructor(t){this.tree=t||[]}push(t){return t.id===void 0&&(t.id=I.gid++),this.tree.push(t),t}findById(t){return this.tree.find(r=>r.id===t)}childrenOf(t){return this.tree.filter(r=>r.parent===t)}attachChild(t,r,a,n){a.id===void 0&&(a.id=I.gid++),n=n||33;const s=this.tree.indexOf(t),i={id:I.gid++,type:"split",parent:t.parent,dir:r%2===0?"vertical":"horizontal"};return t.parent=i,a.parent=i,this.tree[s]=i,r===0||r===3?(i.split=n+"%",this.tree.push(a,t)):(i.split=100-n+"%",this.tree.push(t,a)),a}};at(I,"gid",0);let v=I;v.from=function(e){return new v(e)};var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ct(){this.__data__=[],this.size=0}var lt=ct;function ft(e,t){return e===t||e!==e&&t!==t}var ce=ft,ut=ce;function pt(e,t){for(var r=e.length;r--;)if(ut(e[r][0],t))return r;return-1}var D=pt,dt=D,ht=Array.prototype,vt=ht.splice;function gt(e){var t=this.__data__,r=dt(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():vt.call(t,r,1),--this.size,!0}var yt=gt,$t=D;function bt(e){var t=this.__data__,r=$t(t,e);return r<0?void 0:t[r][1]}var _t=bt,mt=D;function Tt(e){return mt(this.__data__,e)>-1}var At=Tt,jt=D;function wt(e,t){var r=this.__data__,a=jt(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var St=wt,Ct=lt,Ot=yt,It=_t,Pt=At,Et=St;function j(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}j.prototype.clear=Ct,j.prototype.delete=Ot,j.prototype.get=It,j.prototype.has=Pt,j.prototype.set=Et;var L=j,xt=L;function Bt(){this.__data__=new xt,this.size=0}var Dt=Bt;function Lt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Mt=Lt;function Nt(e){return this.__data__.get(e)}var Ft=Nt;function zt(e){return this.__data__.has(e)}var Gt=zt,Vt=typeof B=="object"&&B&&B.Object===Object&&B,le=Vt,kt=le,Ut=typeof self=="object"&&self&&self.Object===Object&&self,Rt=kt||Ut||Function("return this")(),g=Rt,Kt=g,Ht=Kt.Symbol,R=Ht,fe=R,ue=Object.prototype,Wt=ue.hasOwnProperty,qt=ue.toString,P=fe?fe.toStringTag:void 0;function Yt(e){var t=Wt.call(e,P),r=e[P];try{e[P]=void 0;var a=!0}catch{}var n=qt.call(e);return a&&(t?e[P]=r:delete e[P]),n}var Xt=Yt,Jt=Object.prototype,Zt=Jt.toString;function Qt(e){return Zt.call(e)}var er=Qt,pe=R,tr=Xt,rr=er,ar="[object Null]",nr="[object Undefined]",de=pe?pe.toStringTag:void 0;function sr(e){return e==null?e===void 0?nr:ar:de&&de in Object(e)?tr(e):rr(e)}var M=sr;function ir(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var E=ir,or=M,cr=E,lr="[object AsyncFunction]",fr="[object Function]",ur="[object GeneratorFunction]",pr="[object Proxy]";function dr(e){if(!cr(e))return!1;var t=or(e);return t==fr||t==ur||t==lr||t==pr}var he=dr,hr=g,vr=hr["__core-js_shared__"],gr=vr,K=gr,ve=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yr(e){return!!ve&&ve in e}var $r=yr,br=Function.prototype,_r=br.toString;function mr(e){if(e!=null){try{return _r.call(e)}catch{}try{return e+""}catch{}}return""}var ge=mr,Tr=he,Ar=$r,jr=E,wr=ge,Sr=/[\\^$.*+?()[\]{}|]/g,Cr=/^\[object .+?Constructor\]$/,Or=Function.prototype,Ir=Object.prototype,Pr=Or.toString,Er=Ir.hasOwnProperty,xr=RegExp("^"+Pr.call(Er).replace(Sr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Br(e){if(!jr(e)||Ar(e))return!1;var t=Tr(e)?xr:Cr;return t.test(wr(e))}var Dr=Br;function Lr(e,t){return e==null?void 0:e[t]}var Mr=Lr,Nr=Dr,Fr=Mr;function zr(e,t){var r=Fr(e,t);return Nr(r)?r:void 0}var b=zr,Gr=b,Vr=g,kr=Gr(Vr,"Map"),H=kr,Ur=b,Rr=Ur(Object,"create"),N=Rr,ye=N;function Kr(){this.__data__=ye?ye(null):{},this.size=0}var Hr=Kr;function Wr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qr=Wr,Yr=N,Xr="__lodash_hash_undefined__",Jr=Object.prototype,Zr=Jr.hasOwnProperty;function Qr(e){var t=this.__data__;if(Yr){var r=t[e];return r===Xr?void 0:r}return Zr.call(t,e)?t[e]:void 0}var ea=Qr,ta=N,ra=Object.prototype,aa=ra.hasOwnProperty;function na(e){var t=this.__data__;return ta?t[e]!==void 0:aa.call(t,e)}var sa=na,ia=N,oa="__lodash_hash_undefined__";function ca(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ia&&t===void 0?oa:t,this}var la=ca,fa=Hr,ua=qr,pa=ea,da=sa,ha=la;function w(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}w.prototype.clear=fa,w.prototype.delete=ua,w.prototype.get=pa,w.prototype.has=da,w.prototype.set=ha;var va=w,$e=va,ga=L,ya=H;function $a(){this.size=0,this.__data__={hash:new $e,map:new(ya||ga),string:new $e}}var ba=$a;function _a(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ma=_a,Ta=ma;function Aa(e,t){var r=e.__data__;return Ta(t)?r[typeof t=="string"?"string":"hash"]:r.map}var F=Aa,ja=F;function wa(e){var t=ja(this,e).delete(e);return this.size-=t?1:0,t}var Sa=wa,Ca=F;function Oa(e){return Ca(this,e).get(e)}var Ia=Oa,Pa=F;function Ea(e){return Pa(this,e).has(e)}var xa=Ea,Ba=F;function Da(e,t){var r=Ba(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var La=Da,Ma=ba,Na=Sa,Fa=Ia,za=xa,Ga=La;function S(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}S.prototype.clear=Ma,S.prototype.delete=Na,S.prototype.get=Fa,S.prototype.has=za,S.prototype.set=Ga;var Va=S,ka=L,Ua=H,Ra=Va,Ka=200;function Ha(e,t){var r=this.__data__;if(r instanceof ka){var a=r.__data__;if(!Ua||a.length<Ka-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ra(a)}return r.set(e,t),this.size=r.size,this}var Wa=Ha,qa=L,Ya=Dt,Xa=Mt,Ja=Ft,Za=Gt,Qa=Wa;function C(e){var t=this.__data__=new qa(e);this.size=t.size}C.prototype.clear=Ya,C.prototype.delete=Xa,C.prototype.get=Ja,C.prototype.has=Za,C.prototype.set=Qa;var en=C;function tn(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var rn=tn,an=b,nn=function(){try{var e=an(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sn=nn,be=sn;function on(e,t,r){t=="__proto__"&&be?be(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _e=on,cn=_e,ln=ce,fn=Object.prototype,un=fn.hasOwnProperty;function pn(e,t,r){var a=e[t];(!(un.call(e,t)&&ln(a,r))||r===void 0&&!(t in e))&&cn(e,t,r)}var me=pn,dn=me,hn=_e;function vn(e,t,r,a){var n=!r;r||(r={});for(var s=-1,i=t.length;++s<i;){var c=t[s],l=a?a(r[c],e[c],c,r,e):void 0;l===void 0&&(l=e[c]),n?hn(r,c,l):dn(r,c,l)}return r}var z=vn;function gn(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var yn=gn;function $n(e){return e!=null&&typeof e=="object"}var x=$n,bn=M,_n=x,mn="[object Arguments]";function Tn(e){return _n(e)&&bn(e)==mn}var An=Tn,Te=An,jn=x,Ae=Object.prototype,wn=Ae.hasOwnProperty,Sn=Ae.propertyIsEnumerable,Cn=Te(function(){return arguments}())?Te:function(e){return jn(e)&&wn.call(e,"callee")&&!Sn.call(e,"callee")},On=Cn,In=Array.isArray,W=In,G={exports:{}};function Pn(){return!1}var En=Pn;G.exports,function(e,t){var r=g,a=En,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,c=i?r.Buffer:void 0,l=c?c.isBuffer:void 0,p=l||a;e.exports=p}(G,G.exports);var je=G.exports,xn=9007199254740991,Bn=/^(?:0|[1-9]\d*)$/;function Dn(e,t){var r=typeof e;return t=t??xn,!!t&&(r=="number"||r!="symbol"&&Bn.test(e))&&e>-1&&e%1==0&&e<t}var Ln=Dn,Mn=9007199254740991;function Nn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Mn}var we=Nn,Fn=M,zn=we,Gn=x,Vn="[object Arguments]",kn="[object Array]",Un="[object Boolean]",Rn="[object Date]",Kn="[object Error]",Hn="[object Function]",Wn="[object Map]",qn="[object Number]",Yn="[object Object]",Xn="[object RegExp]",Jn="[object Set]",Zn="[object String]",Qn="[object WeakMap]",es="[object ArrayBuffer]",ts="[object DataView]",rs="[object Float32Array]",as="[object Float64Array]",ns="[object Int8Array]",ss="[object Int16Array]",is="[object Int32Array]",os="[object Uint8Array]",cs="[object Uint8ClampedArray]",ls="[object Uint16Array]",fs="[object Uint32Array]",u={};u[rs]=u[as]=u[ns]=u[ss]=u[is]=u[os]=u[cs]=u[ls]=u[fs]=!0,u[Vn]=u[kn]=u[es]=u[Un]=u[ts]=u[Rn]=u[Kn]=u[Hn]=u[Wn]=u[qn]=u[Yn]=u[Xn]=u[Jn]=u[Zn]=u[Qn]=!1;function us(e){return Gn(e)&&zn(e.length)&&!!u[Fn(e)]}var ps=us;function ds(e){return function(t){return e(t)}}var q=ds,V={exports:{}};V.exports,function(e,t){var r=le,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===a,i=s&&r.process,c=function(){try{var l=n&&n.require&&n.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=c}(V,V.exports);var Y=V.exports,hs=ps,vs=q,Se=Y,Ce=Se&&Se.isTypedArray,gs=Ce?vs(Ce):hs,ys=gs,$s=yn,bs=On,_s=W,ms=je,Ts=Ln,As=ys,js=Object.prototype,ws=js.hasOwnProperty;function Ss(e,t){var r=_s(e),a=!r&&bs(e),n=!r&&!a&&ms(e),s=!r&&!a&&!n&&As(e),i=r||a||n||s,c=i?$s(e.length,String):[],l=c.length;for(var p in e)(t||ws.call(e,p))&&!(i&&(p=="length"||n&&(p=="offset"||p=="parent")||s&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||Ts(p,l)))&&c.push(p);return c}var Oe=Ss,Cs=Object.prototype;function Os(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Cs;return e===r}var X=Os;function Is(e,t){return function(r){return e(t(r))}}var Ie=Is,Ps=Ie,Es=Ps(Object.keys,Object),xs=Es,Bs=X,Ds=xs,Ls=Object.prototype,Ms=Ls.hasOwnProperty;function Ns(e){if(!Bs(e))return Ds(e);var t=[];for(var r in Object(e))Ms.call(e,r)&&r!="constructor"&&t.push(r);return t}var Fs=Ns,zs=he,Gs=we;function Vs(e){return e!=null&&Gs(e.length)&&!zs(e)}var Pe=Vs,ks=Oe,Us=Fs,Rs=Pe;function Ks(e){return Rs(e)?ks(e):Us(e)}var J=Ks,Hs=z,Ws=J;function qs(e,t){return e&&Hs(t,Ws(t),e)}var Ys=qs;function Xs(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Js=Xs,Zs=E,Qs=X,ei=Js,ti=Object.prototype,ri=ti.hasOwnProperty;function ai(e){if(!Zs(e))return ei(e);var t=Qs(e),r=[];for(var a in e)a=="constructor"&&(t||!ri.call(e,a))||r.push(a);return r}var ni=ai,si=Oe,ii=ni,oi=Pe;function ci(e){return oi(e)?si(e,!0):ii(e)}var Z=ci,li=z,fi=Z;function ui(e,t){return e&&li(t,fi(t),e)}var pi=ui,k={exports:{}};k.exports,function(e,t){var r=g,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===a,i=s?r.Buffer:void 0,c=i?i.allocUnsafe:void 0;function l(p,m){if(m)return p.slice();var h=p.length,T=c?c(h):new p.constructor(h);return p.copy(T),T}e.exports=l}(k,k.exports);var di=k.exports;function hi(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var vi=hi;function gi(e,t){for(var r=-1,a=e==null?0:e.length,n=0,s=[];++r<a;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}var yi=gi;function $i(){return[]}var Ee=$i,bi=yi,_i=Ee,mi=Object.prototype,Ti=mi.propertyIsEnumerable,xe=Object.getOwnPropertySymbols,Ai=xe?function(e){return e==null?[]:(e=Object(e),bi(xe(e),function(t){return Ti.call(e,t)}))}:_i,Q=Ai,ji=z,wi=Q;function Si(e,t){return ji(e,wi(e),t)}var Ci=Si;function Oi(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var Be=Oi,Ii=Ie,Pi=Ii(Object.getPrototypeOf,Object),De=Pi,Ei=Be,xi=De,Bi=Q,Di=Ee,Li=Object.getOwnPropertySymbols,Mi=Li?function(e){for(var t=[];e;)Ei(t,Bi(e)),e=xi(e);return t}:Di,Le=Mi,Ni=z,Fi=Le;function zi(e,t){return Ni(e,Fi(e),t)}var Gi=zi,Vi=Be,ki=W;function Ui(e,t,r){var a=t(e);return ki(e)?a:Vi(a,r(e))}var Me=Ui,Ri=Me,Ki=Q,Hi=J;function Wi(e){return Ri(e,Hi,Ki)}var qi=Wi,Yi=Me,Xi=Le,Ji=Z;function Zi(e){return Yi(e,Ji,Xi)}var Qi=Zi,eo=b,to=g,ro=eo(to,"DataView"),ao=ro,no=b,so=g,io=no(so,"Promise"),oo=io,co=b,lo=g,fo=co(lo,"Set"),uo=fo,po=b,ho=g,vo=po(ho,"WeakMap"),go=vo,ee=ao,te=H,re=oo,ae=uo,ne=go,Ne=M,O=ge,Fe="[object Map]",yo="[object Object]",ze="[object Promise]",Ge="[object Set]",Ve="[object WeakMap]",ke="[object DataView]",$o=O(ee),bo=O(te),_o=O(re),mo=O(ae),To=O(ne),_=Ne;(ee&&_(new ee(new ArrayBuffer(1)))!=ke||te&&_(new te)!=Fe||re&&_(re.resolve())!=ze||ae&&_(new ae)!=Ge||ne&&_(new ne)!=Ve)&&(_=function(e){var t=Ne(e),r=t==yo?e.constructor:void 0,a=r?O(r):"";if(a)switch(a){case $o:return ke;case bo:return Fe;case _o:return ze;case mo:return Ge;case To:return Ve}return t});var se=_,Ao=Object.prototype,jo=Ao.hasOwnProperty;function wo(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&jo.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var So=wo,Co=g,Oo=Co.Uint8Array,Io=Oo,Ue=Io;function Po(e){var t=new e.constructor(e.byteLength);return new Ue(t).set(new Ue(e)),t}var ie=Po,Eo=ie;function xo(e,t){var r=t?Eo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Bo=xo,Do=/\w*$/;function Lo(e){var t=new e.constructor(e.source,Do.exec(e));return t.lastIndex=e.lastIndex,t}var Mo=Lo,Re=R,Ke=Re?Re.prototype:void 0,He=Ke?Ke.valueOf:void 0;function No(e){return He?Object(He.call(e)):{}}var Fo=No,zo=ie;function Go(e,t){var r=t?zo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Vo=Go,ko=ie,Uo=Bo,Ro=Mo,Ko=Fo,Ho=Vo,Wo="[object Boolean]",qo="[object Date]",Yo="[object Map]",Xo="[object Number]",Jo="[object RegExp]",Zo="[object Set]",Qo="[object String]",ec="[object Symbol]",tc="[object ArrayBuffer]",rc="[object DataView]",ac="[object Float32Array]",nc="[object Float64Array]",sc="[object Int8Array]",ic="[object Int16Array]",oc="[object Int32Array]",cc="[object Uint8Array]",lc="[object Uint8ClampedArray]",fc="[object Uint16Array]",uc="[object Uint32Array]";function pc(e,t,r){var a=e.constructor;switch(t){case tc:return ko(e);case Wo:case qo:return new a(+e);case rc:return Uo(e,r);case ac:case nc:case sc:case ic:case oc:case cc:case lc:case fc:case uc:return Ho(e,r);case Yo:return new a;case Xo:case Qo:return new a(e);case Jo:return Ro(e);case Zo:return new a;case ec:return Ko(e)}}var dc=pc,hc=E,We=Object.create,vc=function(){function e(){}return function(t){if(!hc(t))return{};if(We)return We(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),gc=vc,yc=gc,$c=De,bc=X;function _c(e){return typeof e.constructor=="function"&&!bc(e)?yc($c(e)):{}}var mc=_c,Tc=se,Ac=x,jc="[object Map]";function wc(e){return Ac(e)&&Tc(e)==jc}var Sc=wc,Cc=Sc,Oc=q,qe=Y,Ye=qe&&qe.isMap,Ic=Ye?Oc(Ye):Cc,Pc=Ic,Ec=se,xc=x,Bc="[object Set]";function Dc(e){return xc(e)&&Ec(e)==Bc}var Lc=Dc,Mc=Lc,Nc=q,Xe=Y,Je=Xe&&Xe.isSet,Fc=Je?Nc(Je):Mc,zc=Fc,Gc=en,Vc=rn,kc=me,Uc=Ys,Rc=pi,Kc=di,Hc=vi,Wc=Ci,qc=Gi,Yc=qi,Xc=Qi,Jc=se,Zc=So,Qc=dc,el=mc,tl=W,rl=je,al=Pc,nl=E,sl=zc,il=J,ol=Z,cl=1,ll=2,fl=4,Ze="[object Arguments]",ul="[object Array]",pl="[object Boolean]",dl="[object Date]",hl="[object Error]",Qe="[object Function]",vl="[object GeneratorFunction]",gl="[object Map]",yl="[object Number]",et="[object Object]",$l="[object RegExp]",bl="[object Set]",_l="[object String]",ml="[object Symbol]",Tl="[object WeakMap]",Al="[object ArrayBuffer]",jl="[object DataView]",wl="[object Float32Array]",Sl="[object Float64Array]",Cl="[object Int8Array]",Ol="[object Int16Array]",Il="[object Int32Array]",Pl="[object Uint8Array]",El="[object Uint8ClampedArray]",xl="[object Uint16Array]",Bl="[object Uint32Array]",f={};f[Ze]=f[ul]=f[Al]=f[jl]=f[pl]=f[dl]=f[wl]=f[Sl]=f[Cl]=f[Ol]=f[Il]=f[gl]=f[yl]=f[et]=f[$l]=f[bl]=f[_l]=f[ml]=f[Pl]=f[El]=f[xl]=f[Bl]=!0,f[hl]=f[Qe]=f[Tl]=!1;function U(e,t,r,a,n,s){var i,c=t&cl,l=t&ll,p=t&fl;if(r&&(i=n?r(e,a,n,s):r(e)),i!==void 0)return i;if(!nl(e))return e;var m=tl(e);if(m){if(i=Zc(e),!c)return Hc(e,i)}else{var h=Jc(e),T=h==Qe||h==vl;if(rl(e))return Kc(e,c);if(h==et||h==Ze||T&&!n){if(i=l||T?{}:el(e),!c)return l?qc(e,Rc(i,e)):Wc(e,Uc(i,e))}else{if(!f[h])return n?e:{};i=Qc(e,h,c)}}s||(s=new Gc);var tt=s.get(e);if(tt)return tt;s.set(e,i),sl(e)?e.forEach(function($){i.add(U($,t,r,$,e,s))}):al(e)&&e.forEach(function($,A){i.set(A,U($,t,r,A,e,s))});var Ql=p?l?Xc:Yc:l?ol:il,rt=m?void 0:Ql(e);return Vc(rt||e,function($,A){rt&&(A=$,$=e[A]),kc(i,A,U($,t,r,A,e,s))}),i}var Dl=U,Ll=Dl,Ml=1,Nl=4;function Fl(e){return Ll(e,Ml|Nl)}var zl=Fl;const Gl=ot(zl),Vl={name:"Layout",props:{edit:{type:Boolean,default:!0},resize:{type:Boolean,default:!0},splits:{type:[String,Number,Object],default:()=>({})}},data(){return{nodes:this.calcSplits(),drag:null,savedNodes:null}},watch:{splits(){this.nodes=this.calcSplits()}},beforeUpdate(){if(!this.$refs.container)return;const e=this.$refs.container.querySelectorAll("[target-view]");Array.from(e).forEach(t=>{const r=this.$refs.container.querySelector(`[src-view=${t.getAttribute("target-view")}]`);r&&r.children[0]&&r.appendChild(t.children[0])})},methods:{calcSplits(){const e=[],t=v.from(e),r=a=>{if(a instanceof Object){const n=t.push({type:"split",dir:a.dir,split:a.split});return r(a.first).parent=n,r(a.second).parent=n,n}return t.push({type:"view",viewId:a})};return r(this.splits),e},childrenOf(e){return v.from(this.nodes).childrenOf(e)},renderNode(e){return e.type==="split"?oe:"div"},onSplitResize(e,t,r){const a=t.props["node-id"],n=v.from(this.nodes).findById(a);n.split=r},previewPane(e,t,r){if(e===-1){this.$refs.preview.style.opacity=0;return}if(!t)return-1;r=r||33;const a=r/100,n=t.getBoundingClientRect(),s={left:n.left,top:n.top,width:n.width,height:n.height};e===1?s.left+=s.width-s.width*a:e===2&&(s.top+=s.height-s.height*a),e%2===0?s.height*=a:s.width*=a,this.$refs.preview.style.opacity=1;for(const i in s)this.$refs.preview.style[i]=`${s[i]}px`},onViewDragStart(e){if(e.button!==0)return;const t=e.target.hasAttribute("node-id"),r=e.target.hasAttribute("pane-drag");if(!t&&!r)return;let a=e.target;if(!t){let l=a;for(;l&&l.matches&&!l.hasAttribute("node-id");)l=l.parentNode;if(!l||!l.matches)return;a=l}const n=parseInt(a.getAttribute("node-id"),10),s=this.nodes.find(l=>l.id===n);if(!s)return;e.preventDefault();const i=this.$refs.container.getBoundingClientRect(),c=e.target.getBoundingClientRect();this.drag={node:s,offset:{x:e.clientX-c.left,y:e.clientY-c.top}},this.savedNodes=Gl(this.nodes),v.from(this.nodes).removeChild(s),this.$refs.drag.style.top=`${c.y-i.top}px`,this.$refs.drag.style.left=`${c.x-i.left}px`,this.$refs.drag.style.width=`${c.width}px`,this.$refs.drag.style.height=`${c.height}px`,document.addEventListener("mousemove",this.onViewDrag),document.addEventListener("mouseup",this.onViewDrop)},onViewDrag(e){if(e.button!==0)return;const t=this.$refs.container.getBoundingClientRect(),r={x:e.clientX-t.left,y:e.clientY-t.top};this.$refs.drag.style.left=`${r.x-this.drag.offset.x}px`,this.$refs.drag.style.top=`${r.y-this.drag.offset.y}px`,this.$refs.drag.style.pointerEvents="none";const a=document.elementFromPoint(e.clientX,e.clientY);this.$refs.drag.style.pointerEvents=null;let n=a;for(;n&&!n.matches(".view");)n=n.parentNode;if(!n||!n.matches){this.previewPane(-1);return}const s=this.checkAttach(n,e);s!==-1&&(this.drag.over={viewDom:n,attach:s}),this.previewPane(s,n)},onViewDrop(e){if(e.button!==0)return;if(document.removeEventListener("mousemove",this.onViewDrag),document.removeEventListener("mouseup",this.onViewDrop),this.previewPane(-1),!this.drag.over){this.drag=null,this.nodes=this.savedNodes;return}const{viewDom:t,attach:r}=this.drag.over,a=parseInt(t.getAttribute("node-id"),10),n=v.from(this.nodes),s=n.findById(a);n.attachChild(s,r,this.drag.node),this.drag=null},checkAttach(e,t,r=33){const a=r/100,n=e.getBoundingClientRect(),s=n.width*a,i=n.height*a,c={x:t.clientX-n.left,y:t.clientY-n.top},l=[c.y-i,n.width-s-c.x,n.height-i-c.y,c.x-s];let p=0,m=-1;return l.forEach((h,T)=>{h<p&&(p=h,m=T)}),m}}},kl={class:"preview",ref:"preview"},Ul=["target-view"],Rl={style:{display:"none"}};function Kl(e,t,r,a,n,s){return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(e.layoutClass),ref:"container"},[o.createElementVNode("div",{class:o.normalizeClass(["views",{dragging:!!n.drag}]),ref:"views"},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(s.childrenOf(n.nodes[0]),i=>(o.openBlock(),o.createBlock(o.resolveDynamicComponent(s.renderNode(i)),{key:i.id}))),128))],2),o.createElementVNode("div",kl,null,512),o.createElementVNode("div",{class:o.normalizeClass({drag:!0,dragging:!!n.drag}),ref:"drag"},[n.drag?(o.openBlock(),o.createElementBlock("div",{key:0,class:"view","target-view":"view-"+n.drag.node.viewId},null,8,Ul)):o.createCommentVNode("",!0)],2),o.createElementVNode("div",Rl,[o.renderSlot(e.$slots,"default",{},void 0,!0)])],2)}const Hl=y(Vl,[["render",Kl],["__scopeId","data-v-92c8c1de"]]),Wl={name:"Pane",props:{title:{type:String,default:""}}},ql={class:"pane"},Yl={class:"header"},Xl={class:"content"};function Jl(e,t,r,a,n,s){return o.openBlock(),o.createElementBlock("div",ql,[o.createElementVNode("div",Yl,o.toDisplayString(r.title),1),o.createElementVNode("div",Xl,[o.renderSlot(e.$slots,"default",{},void 0,!0)])])}const Zl=y(Wl,[["render",Jl],["__scopeId","data-v-2502aea4"]]);d.Layout=Hl,d.Pane=Zl,d.Split=oe,d.Tree=v,Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=vue-split-layout.js.map
